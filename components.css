/* assets/css/v2/components.css (REVIDERT) */
/* Fallback hvis app.css ikke er lastet først (sikkerhetsnett) */
:root{
  --surface: var(--bg, #fff);
  --surface-muted: #f8fafc;
  --fs--1: 12px;
  --fs-0: 14px;
  --fs-1: 16px;
  --shadow-1: var(--shadow, 0 2px 10px rgba(0,0,0,.04));
}

/* === KNAPPER (grunnstil) === */
.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: .5ch;
  padding: .55rem 1rem; background: var(--brand); color: #fff;
  border: 0; border-radius: var(--radius); box-shadow: var(--shadow-1);
  text-decoration: none; cursor: pointer; font-weight: 600; line-height: 1.2;
  transition: transform .04s ease; user-select: none;
}
.btn:hover { background: var(--brand-600); }
.btn:active { transform: translateY(1px); }
.btn:disabled, .btn[aria-disabled="true"] { opacity: .6; cursor: not-allowed; }
.btn:focus-visible { outline: 2px solid currentColor; outline-offset: 2px; }

/* === VARIANTS === */
.btn--secondary { background: #fff; color: var(--brand); border: 1px solid var(--border); }
.btn--quiet { background: transparent; color: var(--brand); border: 0; box-shadow: none; }
.btn--danger { background: var(--secondary); }
.btn--danger:hover { filter: brightness(.95); }

/* === SIZES === */
.btn--sm { padding: .4rem .75rem; font-size: var(--fs--1); border-radius: .4rem; }
.btn--lg { padding: .7rem 1.1rem; font-size: var(--fs-1); }
.btn--block { display: flex; width: 100%; }

/* === ICON BUTTONS === */
.btn--icon { padding: .45rem; width: 2.25rem; height: 2.25rem; aspect-ratio: 1; }
.btn svg, .btn i { display:inline-block; width:1em; height:1em; }

/* === LOADING STATE === */
.btn.is-loading { position: relative; pointer-events: none; }
.btn.is-loading::after {
  content: ""; width: 1em; height: 1em; border-radius: 50%;
  border: 2px solid currentColor; border-right-color: transparent;
  display: inline-block; margin-left: .5ch; animation: spin 750ms linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* === KNAPPEGRUPPER === */
.btn-group { display: inline-flex; gap: .5rem; flex-wrap: wrap; }
.btn-group .btn { border-radius: .45rem; }

/* === LENKER (tekst) === */
.link { color: var(--brand); text-decoration: none; font-weight: 600; text-underline-offset: .15em; }
.link:hover { text-decoration: underline; }
.link:focus-visible { outline: 2px solid currentColor; outline-offset: 2px; border-radius: .2rem; }

.btn-center { display:flex; justify-content:center; gap:1rem; flex-wrap:wrap; }

/* === Sticky table header – robust === */
.table-wrap{
  position: relative;
  overflow: auto;              /* scroller her */
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--surface);
}

/* Selve tabellen */
.table{
  width: 100%;
  border-collapse: separate;   /* viktig for sticky i th */
  border-spacing: 0;
  font-size: var(--fs-0);
}
.table th, .table td{
  padding: .45rem .6rem;
  border-bottom: 1px solid var(--border);
  vertical-align: top;
  background: var(--surface);  /* nødvendig for sticky */
}

/* Høyde-begrensning på scrollområdet */
.table-wrap--scroll{ max-height: 72vh; }

/* Sticky header */
.table thead th{
  position: sticky;
  top: 0;
  z-index: 2;
  background: var(--surface);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  background-clip: padding-box;
}

/* Kompakt/stripe/hover */
.table--compact th, .table--compact td { padding: .35rem .5rem; }
.table--zebra tbody tr:nth-child(odd) td { background: var(--surface-muted); }
.table tbody tr:hover td { background: var(--surface-muted); }

/* Fokusbarhet i tabell */
.table a:focus-visible, .table button:focus-visible {
  outline: 2px solid var(--brand);
  outline-offset: 2px;
}

/* “Lav prioritet” kolonner */
.col--low { min-width: 120px; }
.col--tight { white-space: nowrap; }

/* Smalt vindu */
@media (max-width: 720px){
  .table th, .table td { padding: .4rem .5rem; }
}

/* === Skjema-grid, feltbredder, validering (Trinn 5) === */
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4) var(--space-6); align-items: start; }
.form-row { display: flex; flex-direction: column; gap: .35rem; min-width: 0; }
.form-row label { font-weight: 600; font-size: var(--fs-1); }
.form-row input, .form-row select, .form-row textarea {
  padding: .5rem .65rem; border: 1px solid #d1d5db; border-radius: .4rem; background: #fff; font: inherit; line-height: 1.35;
}
.form-row textarea { resize: vertical; min-height: 5.5rem; }
.form-help { color: var(--muted); font-size: var(--fs--1); }
.col-span-2 { grid-column: span 2; }
.fieldset { border: 1px solid var(--border); border-radius: var(--radius); padding: var(--space-4); background: var(--surface); }
.fieldset-title { margin: 0 0 var(--space-3); font-weight: 700; font-size: var(--fs-2); }
.is-invalid { border-color: #dc2626 !important; }
.input-error { color: #dc2626; font-size: var(--fs--1); }
.w-12ch { max-width: 12ch; } .w-16ch { max-width: 16ch; } .w-20ch { max-width: 20ch; } .w-24ch { max-width: 24ch; }
.w-32ch { max-width: 32ch; } .w-48ch { max-width: 48ch; } .w-64ch { max-width: 64ch; } .w-full { max-width: 100%; }
.w-xs { max-width: 16ch; } .w-sm { max-width: 24ch; } .w-md { max-width: 32ch; } .w-lg { max-width: 48ch; } .w-xl { max-width: 64ch; } .w-prose { max-width: 72ch; }
.inline { display: grid; grid-template-columns: 1fr auto; gap: .5rem; align-items: center; }
.inline .unit { padding: .45rem .6rem; border: 1px solid #d1d5db; border-radius: .4rem; background: #f8fafc; white-space: nowrap; }
@media (max-width: 800px){ .form-grid { grid-template-columns: 1fr; } .col-span-2 { grid-column: auto; } }
